import{H as C,j as r,B as E,p as B,J as L}from"./index-Dc-BS1W2.js";import{r as o}from"./emoji-mart-DRerY-OB.js";import{L as T}from"./Layout-TSHxcvNT.js";import{P as D}from"./ProductGrid-JVyDvg9G.js";import{u as H,H as I,P as R,F as z,D as J}from"./useProductFilters-DBbhcKgy.js";import{T as U}from"./pubLayoutAPI-DfYluJku.js";import{S as q}from"./index-DrCm3EO8.js";import"./badge-taJbTjbb.js";import"./popover-CGZmNc4e.js";import"./Combination-DuTqoeZY.js";import"./index-CE35kS-Q.js";import"./index-C_ZzNLza.js";import"./index-BkNWx6m2.js";import"./index-DE01g13U.js";import"./index--K3sZeIh.js";import"./user-DUzEMHwr.js";import"./index-FHuIi1st.js";import"./select-B3i9CjeT.js";import"./index-DqWbzM0E.js";import"./categoriesAPI-DvU_otkD.js";import"./search-DlKIh_Ll.js";import"./clock-U9VSJiyP.js";import"./database-BKbjrLJf.js";import"./scroll-area-BfHT7kH_.js";import"./useMutation-CApHjpg4.js";import"./arrow-up-BRrXiPPU.js";import"./ProductCard-Cq7PI4fG.js";import"./dialog-D1sIsNKu.js";import"./circle-plus-gGTkOUJD.js";import"./play-C68uu85c.js";import"./house-Qr62Kw0A.js";import"./shield-x-BsKCYJAg.js";import"./video-CY1c3mCS.js";import"./plus-DTTTuzsk.js";import"./square-pen-D72gPhkm.js";import"./trash-2-DHce8VXy.js";import"./triangle-alert-Btc8UJ8c.js";const kr=()=>{const{categoryName:t}=C(),[b,c]=o.useState([]),[v,d]=o.useState(!0),[P,w]=o.useState(!1),a=t?t.charAt(0).toUpperCase()+t.slice(1):"",{searchTerm:l,setSearchTerm:n,priceRange:m,setPriceRange:p,maxPrice:u,sortOption:S,setSortOption:N,sortedProducts:i,showInStock:g,setShowInStock:h,showOutOfStock:x,setShowOutOfStock:f,showPromoOnly:j,setShowPromoOnly:y,activeFilters:k,resetFilters:s,getFilterBadges:F}=H({products:b,categoryFilter:t});o.useEffect(()=>{(async()=>{d(!0);try{const e=await B.getAll();if(!e.data||!Array.isArray(e.data))throw new Error("Format de données incorrect");c(e.data)}catch(e){console.error("Erreur lors du chargement des produits:",e),L.error("Impossible de charger les produits"),c([])}finally{d(!1)}})()},[t]);const O={filtersOpen:P,setFiltersOpen:w,activeFilters:k,searchTerm:l,setSearchTerm:n,priceRange:m,setPriceRange:p,maxPrice:u,showInStock:g,setShowInStock:h,showOutOfStock:x,setShowOutOfStock:f,showPromoOnly:j,setShowPromoOnly:y,resetFilters:s};return r.jsx(T,{children:r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 via-white to-neutral-50 dark:from-neutral-950 dark:via-neutral-900 dark:to-neutral-950",children:[r.jsx(I,{title:a,description:`Découvrez notre sélection de ${a.toLowerCase()} de qualité premium. Des produits soigneusement choisis pour sublimer votre beauté naturelle.`,icon:U}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(R,{title:a,productCount:i.length,sortOption:S,setSortOption:N,mobileFiltersProps:O}),r.jsx(z,{badges:F(),onClearAll:s}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsx(J,{searchTerm:l,setSearchTerm:n,priceRange:m,setPriceRange:p,maxPrice:u,showInStock:g,setShowInStock:h,showOutOfStock:x,setShowOutOfStock:f,showPromoOnly:j,setShowPromoOnly:y,resetFilters:s}),r.jsx("div",{className:"md:col-span-3",children:v?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((A,e)=>r.jsxs("div",{className:"border rounded-xl p-4 h-[300px] animate-pulse",children:[r.jsx("div",{className:"w-full h-40 bg-gray-200 dark:bg-gray-700 rounded-lg mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]},e))}):i.length>0?r.jsx(D,{products:i}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-6 bg-neutral-50 dark:bg-neutral-900 rounded-xl text-center",children:[r.jsx(q,{className:"h-14 w-14 text-neutral-400 mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Aucun produit trouvé"}),r.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:"Nous n'avons trouvé aucun produit correspondant à vos critères de recherche. Essayez d'ajuster vos filtres ou de parcourir d'autres catégories."}),r.jsx(E,{onClick:s,children:"Réinitialiser tous les filtres"})]})})]})]})]})})};export{kr as default};
