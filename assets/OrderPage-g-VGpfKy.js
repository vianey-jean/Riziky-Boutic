import{H as h,K as u,j as e,B as i,L as j,U as f}from"./index-Dc-BS1W2.js";import{L as a}from"./Layout-TSHxcvNT.js";import{S as b}from"./separator-6a6jIHNF.js";import{b as g,T as v,S as n}from"./index-DrCm3EO8.js";import"./emoji-mart-DRerY-OB.js";import"./badge-taJbTjbb.js";import"./popover-CGZmNc4e.js";import"./Combination-DuTqoeZY.js";import"./index-CE35kS-Q.js";import"./index-C_ZzNLza.js";import"./index-BkNWx6m2.js";import"./index-DE01g13U.js";import"./index--K3sZeIh.js";import"./user-DUzEMHwr.js";import"./index-FHuIi1st.js";import"./select-B3i9CjeT.js";import"./index-DqWbzM0E.js";import"./categoriesAPI-DvU_otkD.js";import"./pubLayoutAPI-DfYluJku.js";import"./arrow-up-BRrXiPPU.js";import"./database-BKbjrLJf.js";import"./circle-plus-gGTkOUJD.js";import"./clock-U9VSJiyP.js";import"./play-C68uu85c.js";import"./house-Qr62Kw0A.js";import"./shield-x-BsKCYJAg.js";import"./video-CY1c3mCS.js";import"./plus-DTTTuzsk.js";import"./search-DlKIh_Ll.js";import"./square-pen-D72gPhkm.js";import"./trash-2-DHce8VXy.js";import"./triangle-alert-Btc8UJ8c.js";import"./scroll-area-BfHT7kH_.js";import"./useMutation-CApHjpg4.js";const se=()=>{const{orderId:d}=h(),{orders:o}=u(),l="https://riziky-boutic-server.onrender.com",t=o.find(s=>s.id===d);if(!t)return e.jsx(a,{children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Commande non trouvée"}),e.jsx("p",{className:"mb-6",children:"La commande que vous recherchez n'existe pas ou a été supprimée."}),e.jsx(i,{asChild:!0,children:e.jsx(j,{to:"/",children:"Retour à l'accueil"})})]})});const m=s=>new Date(s).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),c=s=>s?s.startsWith("http")?s:`${l}${s}`:"",x=[{name:"Commande confirmée",icon:f,completed:!0},{name:"En préparation",icon:g,completed:t.status!=="confirmée"},{name:"En cours de livraison",icon:v,completed:["en livraison","livrée"].includes(t.status)},{name:"Livrée",icon:n,completed:t.status==="livrée"}];return e.jsx(a,{children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Commande #",t.id.split("-")[1]]}),e.jsxs("p",{className:"text-muted-foreground",children:["Placée le ",m(t.createdAt)]})]}),e.jsx("div",{className:"mt-2 sm:mt-0",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${t.status==="livrée"?"bg-green-100 text-green-800":t.status==="en livraison"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6 mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Statut de la commande"}),e.jsx("div",{className:"flex justify-between",children:x.map((s,r)=>e.jsxs("div",{className:"flex flex-col items-center relative",children:[r>0&&e.jsx("div",{className:`absolute h-1 top-4 transform -translate-x-1/2 -left-1/2 w-full ${s.completed?"bg-brand-blue":"bg-gray-200"}`}),e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center z-10 ${s.completed?"bg-brand-blue text-white":"bg-gray-200 text-gray-400"}`,children:e.jsx(s.icon,{className:"h-4 w-4"})}),e.jsx("span",{className:"text-xs text-center mt-2 max-w-[70px]",children:s.name})]},r))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"bg-white border rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Produits commandés"}),e.jsx("div",{className:"space-y-4",children:t.items.map(s=>e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-16 h-16 rounded overflow-hidden",children:s.image?e.jsx("img",{src:c(s.image),alt:s.name,className:"w-full h-full object-cover",onError:r=>{const p=r.target;p.src=`${l}/uploads/placeholder.jpg`}}):e.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:e.jsx(n,{className:"h-6 w-6 text-gray-500"})})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Quantité: ",s.quantity]}),e.jsxs("span",{className:"font-medium",children:[(s.price*s.quantity).toFixed(2)," €"]})]})]})]},s.productId))})]}),e.jsx(b,{}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{children:"Sous-total"}),e.jsxs("span",{children:[t.totalAmount.toFixed(2)," €"]})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{children:"Livraison"}),e.jsx("span",{children:"0.00 €"})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{children:"Taxes"}),e.jsxs("span",{children:[(t.totalAmount*.2).toFixed(2)," €"]})]}),e.jsxs("div",{className:"border-t pt-2 mt-2 flex justify-between font-bold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:[(t.totalAmount*1.2).toFixed(2)," €"]})]})]})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white border rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Informations de livraison"}),e.jsxs("p",{className:"text-sm mb-1",children:[t.shippingAddress.prenom," ",t.shippingAddress.nom]}),e.jsx("p",{className:"text-sm mb-1",children:t.shippingAddress.adresse}),e.jsxs("p",{className:"text-sm mb-1",children:[t.shippingAddress.codePostal," ",t.shippingAddress.ville]}),e.jsx("p",{className:"text-sm",children:t.shippingAddress.pays})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Besoin d'aide?"}),e.jsx(i,{variant:"outline",className:"w-full mb-2",children:"Contacter le support"}),e.jsx(i,{variant:"outline",className:"w-full",children:"Suivre la livraison"})]})]})]})]})})};export{se as default};
