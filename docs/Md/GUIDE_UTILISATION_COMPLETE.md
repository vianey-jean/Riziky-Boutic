
# üìñ Guide d'Utilisation Compl√®te - Riziky-Boutic

## üìã Introduction au Guide

Ce guide complet vous accompagne dans l'utilisation de la plateforme Riziky-Boutic, que vous soyez utilisateur final, administrateur, ou d√©veloppeur. Il couvre toutes les fonctionnalit√©s disponibles avec des instructions d√©taill√©es et des exemples pratiques.

---

## üë§ Pour les Clients - Guide Utilisateur Final

### üöÄ Premiers Pas sur la Plateforme

#### Cr√©ation de Compte et Connexion

**1. Inscription :**
```
√âtapes d'inscription :
1. Cliquez sur "S'inscrire" dans le menu principal
2. Remplissez le formulaire avec vos informations :
   - Nom et pr√©nom
   - Adresse email valide
   - Mot de passe s√©curis√© (8 caract√®res minimum)
   - Num√©ro de t√©l√©phone
   - Genre (optionnel)
3. Acceptez les conditions d'utilisation et la politique de confidentialit√©
4. Cliquez sur "Cr√©er mon compte"
5. V√©rifiez votre email et confirmez votre compte

Conseils pour un mot de passe s√©curis√© :
- Minimum 8 caract√®res
- M√©lange de majuscules et minuscules
- Inclure des chiffres et symboles
- √âviter les informations personnelles
```

**2. Connexion :**
```
Pour vous connecter :
1. Cliquez sur "Connexion" dans le menu
2. Saisissez votre email et mot de passe
3. Cochez "Se souvenir de moi" pour rester connect√©
4. Cliquez sur "Se connecter"

En cas d'oubli de mot de passe :
1. Cliquez sur "Mot de passe oubli√© ?"
2. Saisissez votre adresse email
3. Consultez votre bo√Æte mail pour le lien de r√©initialisation
4. Suivez les instructions pour cr√©er un nouveau mot de passe
```

#### Navigation sur le Site

**Menu Principal :**
- **Accueil** : Page d'accueil avec les derni√®res nouveaut√©s
- **Produits** : Catalogue complet avec filtres et recherche
- **Nouveaut√©s** : Derniers produits ajout√©s
- **Promotions** : Ventes flash et offres sp√©ciales
- **Contact** : Formulaire de contact et informations

**Barre de Recherche :**
```
Utilisation de la recherche :
1. Cliquez sur l'ic√¥ne de recherche ou tapez Ctrl+K
2. Tapez le nom du produit, cat√©gorie, ou mots-cl√©s
3. Utilisez les suggestions automatiques
4. Appuyez sur Entr√©e pour lancer la recherche

Astuces de recherche :
- "chaussures nike" : recherche exacte
- "t-shirt rouge" : recherche par couleur
- "sous 50‚Ç¨" : recherche par prix
```

### üõçÔ∏è Shopping et Achat

#### Parcourir les Produits

**1. Navigation par Cat√©gories :**
```
Acc√®s aux cat√©gories :
- Menu d√©roulant "Cat√©gories" si plus de 8 cat√©gories
- Liens directs dans le menu si moins de 8 cat√©gories
- Page d√©di√©e avec sous-cat√©gories

Hi√©rarchie des cat√©gories :
V√™tements
‚îú‚îÄ‚îÄ Homme
‚îÇ   ‚îú‚îÄ‚îÄ T-shirts
‚îÇ   ‚îú‚îÄ‚îÄ Pantalons
‚îÇ   ‚îî‚îÄ‚îÄ Chaussures
‚îî‚îÄ‚îÄ Femme
    ‚îú‚îÄ‚îÄ Robes
    ‚îú‚îÄ‚îÄ Tops
    ‚îî‚îÄ‚îÄ Accessoires
```

**2. Filtrage des Produits :**
```
Filtres disponibles :
- Prix : Fourchette minimum-maximum
- Cat√©gorie : S√©lection multiple
- Disponibilit√© : En stock uniquement
- Marque : S√©lection des marques
- Taille : Selon le type de produit
- Couleur : Palette de couleurs

Application des filtres :
1. Utilisez les filtres dans la sidebar gauche
2. Les r√©sultats se mettent √† jour automatiquement
3. Supprimez les filtres via les badges affich√©s
4. R√©initialisez tous les filtres d'un clic
```

**3. Tri des R√©sultats :**
```
Options de tri :
- Pertinence (par d√©faut)
- Prix croissant
- Prix d√©croissant  
- Popularit√©
- Nouveaut√©
- Meilleures notes

Changement de tri :
1. Utilisez le menu d√©roulant en haut √† droite
2. Les r√©sultats se r√©organisent automatiquement
```

#### Fiche Produit D√©taill√©e

**Informations Disponibles :**
```
Sur chaque fiche produit :
- Galerie d'images (zoom et navigation)
- Nom et description d√©taill√©e
- Prix avec promotions √©ventuelles
- Stock disponible en temps r√©el
- Variantes (taille, couleur) si applicable
- Avis clients et notes
- Produits similaires recommand√©s
- Informations de livraison

Actions possibles :
- Ajouter au panier (avec s√©lection quantit√©)
- Ajouter aux favoris
- Partager sur les r√©seaux sociaux
- Comparer avec d'autres produits
- Poser une question via chat
```

**Navigation dans les Images :**
```
Fonctionnalit√©s de la galerie :
- Clic sur les miniatures pour changer l'image principale
- Survol pour zoom automatique
- Clic sur l'image principale pour plein √©cran
- Navigation par fl√®ches gauche/droite
- Zoom molette de la souris en plein √©cran
```

#### Gestion du Panier

**1. Ajouter des Produits :**
```
M√©thodes d'ajout :
- Depuis la fiche produit : bouton "Ajouter au panier"
- Depuis la grille : bouton rapide sur survol
- Vue rapide : modal avec ajout direct
- Recommandations : ajout en un clic

S√©lection des options :
1. Choisir la taille (si applicable)
2. S√©lectionner la couleur (si disponible)
3. Indiquer la quantit√© souhait√©e
4. V√©rifier le stock disponible
5. Cliquer sur "Ajouter au panier"
```

**2. Gestion du Panier :**
```
Actions dans le panier :
- Modifier les quantit√©s avec +/-
- Supprimer un article (ic√¥ne poubelle)
- Vider compl√®tement le panier
- Sauvegarder pour plus tard
- Appliquer un code promo

Informations affich√©es :
- Image et nom du produit
- Prix unitaire et total
- Quantit√© s√©lectionn√©e
- Stock restant
- Sous-total par article
- Total g√©n√©ral avec taxes
- Frais de livraison estim√©s
```

**3. Codes Promotionnels :**
```
Utilisation des codes promo :
1. Dans le panier, cherchez "Code promotionnel"
2. Saisissez votre code dans le champ pr√©vu
3. Cliquez sur "Appliquer"
4. La r√©duction s'applique automatiquement
5. Le nouveau total s'affiche

Types de r√©ductions :
- Pourcentage : -20% sur votre commande
- Montant fixe : -10‚Ç¨ de r√©duction
- Livraison gratuite : frais de port offerts
- Produit offert : cadeau automatique
```

#### Processus de Commande

**1. √âtapes du Checkout :**
```
Processus en 6 √©tapes :
1. Connexion / Inscription (si n√©cessaire)
2. R√©vision du panier et modifications
3. Adresse de livraison
4. Mode de livraison et d√©lais
5. M√©thode de paiement
6. Confirmation et validation

Navigation :
- Boutons "Pr√©c√©dent" et "Suivant"
- Barre de progression en haut
- Possibilit√© de revenir au panier
- Sauvegarde automatique √† chaque √©tape
```

**2. Adresses de Livraison :**
```
Gestion des adresses :
- S√©lection d'une adresse existante
- Ajout d'une nouvelle adresse
- Modification d'une adresse
- Adresse de facturation diff√©rente

Informations requises :
- Nom et pr√©nom du destinataire
- Adresse compl√®te (rue, ville, code postal)
- Pays (France par d√©faut)
- T√©l√©phone pour la livraison
- Instructions sp√©ciales (optionnel)
```

**3. Modes de Livraison :**
```
Options disponibles :
- Standard (3-5 jours ouvr√©s) : 5,99‚Ç¨
- Express (1-2 jours ouvr√©s) : 9,99‚Ç¨
- Gratuite (5-7 jours, commande >50‚Ç¨) : 0‚Ç¨
- Point relais (3-5 jours) : 3,99‚Ç¨
- Retrait magasin (si disponible) : 0‚Ç¨

Estimation de livraison :
- D√©lais mis √† jour selon l'adresse
- Dates de livraison pr√©visionnelle
- Suivi de colis inclus
- Assurance perte/vol (optionnelle)
```

**4. M√©thodes de Paiement :**
```
Paiements accept√©s :
- Cartes bancaires (Visa, Mastercard, Amex)
- PayPal (compte existant)
- Apple Pay (sur Safari/iOS)
- Google Pay (sur Chrome/Android)
- Virement bancaire (d√©lai 2-3 jours)
- Paiement en 3 fois (selon montant)

S√©curit√© des paiements :
- Chiffrement SSL 256 bits
- 3D Secure pour les cartes
- Aucune conservation des donn√©es bancaires
- Conformit√© PCI-DSS
```

### ‚ù§Ô∏è Fonctionnalit√©s Personnelles

#### Liste de Favoris

**Gestion des Favoris :**
```
Ajouter aux favoris :
1. Sur la fiche produit : cliquez sur l'ic√¥ne c≈ìur
2. Depuis la grille : ic√¥ne c≈ìur au survol
3. Le c≈ìur se remplit et change de couleur
4. Notification de confirmation

G√©rer les favoris :
- Acc√®s via menu utilisateur ou ic√¥ne c≈ìur navbar
- Vue liste ou grille des favoris
- Tri par date d'ajout, prix, cat√©gorie
- Actions : supprimer, ajouter au panier, partager
- Liste publique ou priv√©e (param√®tres)

Notifications favoris :
- Alerte si produit en promotion
- Notification de r√©approvisionnement
- Rappel produits oubli√©s (hebdomadaire)
```

#### Avis et Commentaires

**Laisser un Avis :**
```
Conditions pour √©valuer :
- Avoir achet√© le produit
- Commande livr√©e depuis plus de 48h
- Un seul avis par produit et par client

Processus d'√©valuation :
1. Depuis l'historique des commandes
2. Clic sur "Laisser un avis"
3. Attribution d'une note (1 √† 5 √©toiles)
4. R√©daction du commentaire (optionnel)
5. Upload de photos (optionnel)
6. Soumission pour mod√©ration

Contenu de l'avis :
- Note globale (obligatoire)
- Qualit√© du produit (optionnel)
- Rapport qualit√©/prix (optionnel)
- Commentaire libre (500 caract√®res max)
- Photos du produit re√ßu
```

**Consulter les Avis :**
```
Sur chaque fiche produit :
- Note moyenne affich√©e
- Histogramme de r√©partition des notes
- Avis les plus r√©cents
- Filtrage par note (5 √©toiles, 4 √©toiles, etc.)
- Photos clients dans les avis
- R√©ponses du vendeur si applicable

Utilit√© des avis :
- Boutons "Utile" / "Pas utile"
- Signalement d'avis inappropri√©s
- Tri par pertinence, date, note
```

### üì¶ Suivi des Commandes

#### Historique des Commandes

**Acc√®s √† l'Historique :**
```
Navigation :
1. Menu utilisateur > "Mes commandes"
2. Ou directement via /orders
3. Liste de toutes vos commandes

Informations par commande :
- Num√©ro de commande unique
- Date et heure de passage
- Statut actuel de la commande
- Montant total pay√©
- Mode de livraison choisi
- Adresse de livraison
- D√©tail des articles command√©s
```

**Statuts des Commandes :**
```
Cycle de vie d'une commande :
1. "Confirm√©e" : Paiement valid√©, en attente de traitement
2. "En pr√©paration" : Commande en cours de pr√©paration
3. "Exp√©di√©e" : Colis remis au transporteur
4. "En transit" : En cours de livraison
5. "Livr√©e" : Colis remis au destinataire
6. "Termin√©e" : D√©lai de retour d√©pass√©

Actions possibles selon le statut :
- Confirm√©e : Modification ou annulation
- En pr√©paration : Annulation possible
- Exp√©di√©e : Suivi de colis
- Livr√©e : Signaler un probl√®me, laisser un avis
```

#### Suivi en Temps R√©el

**Notifications Push :**
```
Notifications automatiques :
- Confirmation de commande (imm√©diat)
- Paiement valid√© (2-5 minutes)
- Commande en pr√©paration (24-48h)
- Exp√©dition avec num√©ro de suivi (24-72h)
- Colis en cours de livraison (temps r√©el)
- Livraison effectu√©e (imm√©diat)

Param√©trage :
- Email : activ√© par d√©faut
- SMS : optionnel (num√©ro requis)
- Push navigateur : apr√®s autorisation
- Notifications in-app : toujours activ√©es
```

**Suivi de Colis :**
```
Informations de suivi :
- Num√©ro de tracking unique
- Transporteur (Colissimo, Chronopost, etc.)
- G√©olocalisation du colis (si disponible)
- Historique des √©v√©nements
- Estimation de livraison mise √† jour
- Contact du transporteur

Acc√®s au suivi :
1. Email d'exp√©dition avec lien direct
2. Historique commandes > "Suivre le colis"
3. Num√©ro de suivi sur site transporteur
4. Widget de suivi int√©gr√©
```

### üéß Service Client

#### Chat en Direct

**Acc√®s au Chat :**
```
Initier une conversation :
1. Widget de chat en bas √† droite
2. Bouton "Aide" dans le menu
3. Depuis une fiche de commande
4. Page de contact

Informations √† pr√©parer :
- Num√©ro de commande (si applicable)
- Description pr√©cise du probl√®me
- Captures d'√©cran si n√©cessaire
- Coordonn√©es de contact
```

**Utilisation du Chat :**
```
Fonctionnalit√©s disponibles :
- Messages texte en temps r√©el
- Envoi de fichiers et images
- Partage d'√©cran (si n√©cessaire)
- Historique des conversations
- Transfert vers un sp√©cialiste
- √âvaluation de satisfaction

Horaires du support :
- Lundi-Vendredi : 9h-18h
- Samedi : 10h-16h
- Dimanche : Chat automatique uniquement
- R√©ponse sous 24h garantie
```

#### Centre d'Aide

**FAQ Int√©gr√©e :**
```
Cat√©gories d'aide :
- Compte et connexion
- Commandes et livraisons
- Paiements et facturation
- Retours et remboursements
- Produits et stock
- Technique et navigation

Recherche dans l'aide :
1. Tapez votre question dans la barre de recherche
2. Parcourez les suggestions automatiques
3. Consultez les articles pertinents
4. Utilisez les liens "Ceci vous a-t-il aid√© ?"
```

---

## üëë Pour les Administrateurs - Guide de Gestion

### üîê Acc√®s Administration

#### Connexion Administrateur

**Pr√©requis :**
```
Compte administrateur requis :
- Role "admin" dans la base de donn√©es
- Permissions d'acc√®s au panel admin
- Authentification renforc√©e (2FA recommand√©)

Acc√®s au panel :
1. Connexion avec compte admin
2. Navigation vers /admin
3. Ou menu utilisateur > "Administration"
```

**Interface d'Administration :**
```
Sections disponibles :
- Tableau de bord : M√©triques et aper√ßu
- Produits : Gestion du catalogue
- Commandes : Traitement des ventes
- Clients : Gestion des utilisateurs
- Marketing : Promotions et codes promo
- Param√®tres : Configuration du site
- Rapports : Analytics et statistiques
```

### üìä Tableau de Bord

#### M√©triques Temps R√©el

**Indicateurs Cl√©s :**
```
KPIs principaux :
- Chiffre d'affaires (jour/semaine/mois)
- Nombre de commandes en cours
- Visiteurs actifs simultan√©s
- Taux de conversion global
- Panier moyen
- Produits les plus vendus

Graphiques disponibles :
- √âvolution des ventes (courbe temporelle)
- R√©partition par cat√©gories (camembert)
- Performance par source de trafic
- Analyse de cohorte des clients
- Entonnoir de conversion
```

**Alertes et Notifications :**
```
Alertes automatiques :
- Stock faible (< 10 unit√©s)
- Commande en attente (> 24h)
- Retour client demand√©
- Avis n√©gatif publi√©
- Paiement √©chou√©
- Erreur technique d√©tect√©e

Configuration des alertes :
1. Param√®tres > Notifications
2. D√©finir les seuils d'alerte
3. Choisir les moyens de notification
4. Tester les alertes configur√©es
```

### üè∑Ô∏è Gestion des Produits

#### Cr√©ation de Produit

**Formulaire Complet :**
```
Informations obligatoires :
- Nom du produit (unique)
- Description courte et d√©taill√©e
- Prix de vente (d√©cimal)
- Cat√©gorie principale
- Stock initial
- R√©f√©rence/SKU (auto-g√©n√©r√©e)

Informations optionnelles :
- Images du produit (jusqu'√† 10)
- Variantes (taille, couleur)
- Poids et dimensions
- Marque et mod√®le
- Tags SEO
- Produits li√©s/accessoires
```

**Upload d'Images :**
```
Processus d'ajout d'images :
1. Glisser-d√©poser ou clic pour s√©lectionner
2. Formats accept√©s : JPG, PNG, WebP
3. Taille max : 5MB par image
4. Recommand√© : 800x600px minimum
5. Optimisation automatique
6. R√©organisation par drag & drop

Bonnes pratiques :
- Premi√®re image = image principale
- Fond blanc ou neutre recommand√©
- Plusieurs angles de vue
- Zoom sur les d√©tails importants
- Images de contexte d'utilisation
```

#### Gestion des Stocks

**Suivi en Temps R√©el :**
```
Informations de stock :
- Quantit√© actuelle en stock
- Quantit√© r√©serv√©e (commandes en cours)
- Stock disponible √† la vente
- Historique des mouvements
- Seuil d'alerte personnalisable
- Pr√©vision de rupture

Actions sur le stock :
- Ajustement manuel du stock
- R√©ception de marchandises
- Retour produit en stock
- D√©pr√©ciation/perte d√©clar√©e
- Transfert entre entrep√¥ts (si applicable)
```

**Approvisionnement :**
```
Processus de r√©approvisionnement :
1. Identification des produits en stock faible
2. Analyse de la demande historique
3. Calcul des quantit√©s √† commander
4. G√©n√©ration de bons de commande
5. Suivi des livraisons fournisseurs
6. Mise √† jour des stocks √† r√©ception

Alertes automatiques :
- Stock critique (< seuil d√©fini)
- Produit en rupture
- Commande fournisseur en retard
- √âcart d'inventaire d√©tect√©
```

#### Promotions et Ventes Flash

**Cr√©ation de Promotion :**
```
Types de promotions :
- R√©duction pourcentage (-20%)
- R√©duction montant fixe (-10‚Ç¨)
- Deuxi√®me article offert
- Livraison gratuite
- Lot/Bundle avec remise
- Cadeau avec achat

Param√©trage :
1. S√©lection des produits concern√©s
2. Type et valeur de la r√©duction
3. Dates de d√©but et fin
4. Conditions d'application
5. Limite d'utilisation (optionnel)
6. Code promo associ√© (optionnel)
```

**Ventes Flash :**
```
Configuration d'une vente flash :
1. Produits en promotion
2. Dur√©e limit√©e (24-72h max)
3. Stock limit√© pour l'offre
4. Compte √† rebours visible
5. Banni√®re promotionnelle
6. Notifications push aux clients

Gestion pendant la vente :
- Suivi des ventes en temps r√©el
- Ajustement du stock si n√©cessaire
- Prolongation si objectif non atteint
- Communication sur les r√©seaux sociaux
```

### üìã Gestion des Commandes

#### Traitement des Commandes

**Workflow Standard :**
```
√âtapes de traitement :
1. R√©ception commande (automatique)
2. V√©rification paiement (2-5 min)
3. Validation stock (imm√©diat)
4. Pr√©paration commande (24-48h)
5. G√©n√©ration √©tiquette (automatique)
6. Exp√©dition (scan colis)
7. Suivi livraison (temps r√©el)
8. Confirmation r√©ception (client)

Actions administrateur :
- Valider manuellement si paiement suspect
- Modifier l'adresse avant exp√©dition
- Ajouter des notes internes
- Contacter le client si n√©cessaire
- G√©rer les exceptions et probl√®mes
```

**√âtats des Commandes :**
```
Statuts et actions possibles :
- "En attente paiement" : Relancer client, annuler
- "Confirm√©e" : Pr√©parer, modifier, annuler
- "En pr√©paration" : Marquer pr√™te, annuler
- "Pr√™te" : Exp√©dier, modifier transporteur
- "Exp√©di√©e" : Suivre, g√©rer incidents
- "Livr√©e" : Cl√¥turer, traiter retours
- "Annul√©e" : Rembourser, analyser causes

Filtres de recherche :
- Par statut de commande
- Par date de commande
- Par montant (min/max)
- Par client (nom, email)
- Par produit command√©
- Par transporteur
```

#### Gestion des Remboursements

**Processus de Remboursement :**
```
Types de remboursements :
- Annulation client (avant exp√©dition)
- Retour produit (dans les 14 jours)
- Produit d√©fectueux
- Erreur de livraison
- Geste commercial

√âtapes du remboursement :
1. Demande client ou d√©cision admin
2. V√©rification des conditions
3. Validation du retour (si applicable)
4. Calcul du montant √† rembourser
5. Traitement du remboursement
6. Notification client
7. Mise √† jour des comptes
```

### üë• Gestion des Clients

#### Base de Donn√©es Clients

**Informations Client :**
```
Profil complet :
- Donn√©es personnelles (nom, email, t√©l√©phone)
- Adresses de livraison et facturation
- Historique des commandes
- Montant total d√©pens√©
- Fr√©quence d'achat
- Produits favoris
- Avis laiss√©s
- Tickets de support

Segmentation automatique :
- Nouveaux clients (premi√®re commande)
- Clients fid√®les (3+ commandes)
- Clients VIP (montant √©lev√©)
- Clients inactifs (pas d'achat 6 mois)
- Clients √† risque (avis n√©gatifs)
```

**Communication Client :**
```
Outils de communication :
- Email personnalis√©
- SMS (si num√©ro fourni)
- Notification in-app
- Chat direct depuis l'admin
- Courrier postal (adresse valid√©e)

Templates d'email :
- Confirmation de commande
- Notification d'exp√©dition
- Relance panier abandonn√©
- Demande d'avis apr√®s livraison
- Offres personnalis√©es
- Newsletter produits
```

#### Service Client Int√©gr√©

**Centre de Support :**
```
Gestion des tickets :
- Vue d'ensemble des conversations
- Attribution automatique ou manuelle
- Niveaux de priorit√© (bas, normal, urgent)
- D√©lais de r√©ponse (SLA)
- Historique complet des √©changes
- Notes internes entre agents

R√©ponses rapides :
- Templates de r√©ponses courantes
- Snippets de texte r√©utilisables
- Proc√©dures standardis√©es
- Base de connaissances interne
- FAQ automatis√©e
```

---

## üîß Pour les D√©veloppeurs - Guide Technique

### üõ†Ô∏è Installation et Configuration

#### Environnement de D√©veloppement

**Pr√©requis Techniques :**
```bash
# Versions requises
Node.js >= 18.0.0
npm >= 8.0.0 ou yarn >= 1.22.0
Git >= 2.30.0

# V√©rification des versions
node --version
npm --version
git --version
```

**Installation Compl√®te :**
```bash
# 1. Cloner le repository
git clone https://github.com/votre-repo/riziky-boutic.git
cd riziky-boutic

# 2. Installer les d√©pendances frontend
npm install

# 3. Installer les d√©pendances backend
cd server
npm install
cd ..

# 4. Configuration de l'environnement
cp .env.example .env
# √âditer les variables d'environnement

# 5. Initialiser la base de donn√©es (si premi√®re installation)
cd server
npm run init-db
cd ..
```

**Variables d'Environnement :**
```bash
# Fichier .env √† cr√©er √† la racine
VITE_API_BASE_URL=http://localhost:10000
NODE_ENV=development
JWT_SECRET=your_super_secret_jwt_key_here
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
UPLOAD_MAX_SIZE=5242880
CORS_ORIGIN=http://localhost:8080
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100
```

#### Structure de D√©veloppement

**Scripts de D√©veloppement :**
```bash
# D√©marrage en mode d√©veloppement
npm run dev          # Frontend uniquement
npm run server:dev   # Backend uniquement
npm run dev:full     # Frontend + Backend simultan√©ment

# Build de production
npm run build        # Build frontend optimis√©
npm run server:prod  # D√©marrage backend production

# Tests
npm run test         # Tests unitaires frontend
npm run test:server  # Tests backend
npm run test:e2e     # Tests end-to-end

# Linting et formatage
npm run lint         # ESLint check
npm run lint:fix     # Fix automatique
npm run format       # Prettier
npm run type-check   # V√©rification TypeScript
```

### üèóÔ∏è Architecture et Patterns

#### Patterns Frontend

**Structure des Composants :**
```typescript
// Pattern de composant r√©utilisable
interface ComponentProps {
  // Props requises
  data: DataType;
  onAction: (id: string) => void;
  
  // Props optionnelles avec defaults
  variant?: 'default' | 'compact';
  showActions?: boolean;
  className?: string;
  
  // Props enfants
  children?: React.ReactNode;
}

const Component: FC<ComponentProps> = ({ 
  data, 
  onAction,
  variant = 'default',
  showActions = true,
  className,
  children 
}) => {
  // Hooks en premier
  const [state, setState] = useState();
  const { customHook } = useCustomHook();
  
  // Handlers
  const handleAction = useCallback((id: string) => {
    onAction(id);
  }, [onAction]);
  
  // Render
  return (
    <div className={cn('base-classes', className)}>
      {children}
    </div>
  );
};
```

**Hooks Personnalis√©s :**
```typescript
// Pattern de hook m√©tier
interface UseFeatureOptions {
  enableCache?: boolean;
  autoRefresh?: boolean;
}

interface UseFeatureReturn {
  data: DataType[];
  isLoading: boolean;
  error: Error | null;
  refetch: () => Promise<void>;
  // Actions
  create: (data: CreateData) => Promise<DataType>;
  update: (id: string, data: UpdateData) => Promise<DataType>;
  delete: (id: string) => Promise<void>;
}

const useFeature = (options: UseFeatureOptions = {}): UseFeatureReturn => {
  const { enableCache = true, autoRefresh = false } = options;
  
  // √âtat local
  const [data, setData] = useState<DataType[]>([]);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState<Error | null>(null);
  
  // Logique m√©tier
  const fetchData = useCallback(async () => {
    setIsLoading(true);
    try {
      const result = await api.getData();
      setData(result);
      setError(null);
    } catch (err) {
      setError(err as Error);
    } finally {
      setIsLoading(false);
    }
  }, []);
  
  // Actions CRUD
  const create = useCallback(async (createData: CreateData) => {
    const newItem = await api.create(createData);
    setData(prev => [...prev, newItem]);
    return newItem;
  }, []);
  
  // Auto-refresh si activ√©
  useEffect(() => {
    if (autoRefresh) {
      const interval = setInterval(fetchData, 30000); // 30s
      return () => clearInterval(interval);
    }
  }, [autoRefresh, fetchData]);
  
  return {
    data,
    isLoading,
    error,
    refetch: fetchData,
    create,
    update,
    delete
  };
};
```

#### Patterns Backend

**Structure des Controllers :**
```javascript
// Pattern de controller REST
class ProductController {
  // GET /api/products
  async getProducts(req, res) {
    try {
      const { page = 1, limit = 12, ...filters } = req.query;
      
      // Validation des param√®tres
      const validatedFilters = this.validateFilters(filters);
      
      // Logique m√©tier via service
      const result = await ProductService.getProducts({
        page: parseInt(page),
        limit: parseInt(limit),
        ...validatedFilters
      });
      
      // Response format√©e
      res.json({
        success: true,
        data: result.products,
        pagination: result.pagination,
        meta: {
          total: result.total,
          page: result.page,
          limit: result.limit
        }
      });
      
    } catch (error) {
      this.handleError(res, error);
    }
  }
  
  // POST /api/products
  async createProduct(req, res) {
    try {
      // Validation des donn√©es
      const validationResult = await this.validateProductData(req.body);
      if (!validationResult.isValid) {
        return res.status(400).json({
          success: false,
          error: 'Donn√©es invalides',
          details: validationResult.errors
        });
      }
      
      // Traitement des fichiers upload√©s
      const images = req.files?.map(file => ({
        url: `/uploads/${file.filename}`,
        alt: req.body.nom
      })) || [];
      
      // Cr√©ation via service
      const product = await ProductService.createProduct({
        ...req.body,
        images,
        createdBy: req.user.id
      });
      
      res.status(201).json({
        success: true,
        data: product,
        message: 'Produit cr√©√© avec succ√®s'
      });
      
    } catch (error) {
      this.handleError(res, error);
    }
  }
  
  // Gestion centralis√©e des erreurs
  handleError(res, error) {
    console.error('Controller error:', error);
    
    if (error.name === 'ValidationError') {
      return res.status(400).json({
        success: false,
        error: 'Donn√©es invalides',
        details: error.details
      });
    }
    
    if (error.name === 'NotFoundError') {
      return res.status(404).json({
        success: false,
        error: 'Ressource non trouv√©e'
      });
    }
    
    res.status(500).json({
      success: false,
      error: 'Erreur interne du serveur'
    });
  }
}
```

### üîí S√©curit√© et Bonnes Pratiques

#### S√©curisation Frontend

**Validation des Donn√©es :**
```typescript
// Sch√©mas Zod pour validation
const ProductSchema = z.object({
  nom: z.string()
    .min(3, 'Nom trop court')
    .max(100, 'Nom trop long')
    .refine(val => !/<script/i.test(val), 'Contenu non autoris√©'),
    
  prix: z.number()
    .positive('Prix doit √™tre positif')
    .max(99999, 'Prix trop √©lev√©'),
    
  description: z.string()
    .max(1000, 'Description trop longue')
    .optional(),
    
  category: z.string()
    .uuid('Cat√©gorie invalide'),
    
  stock: z.number()
    .int('Stock doit √™tre entier')
    .min(0, 'Stock ne peut pas √™tre n√©gatif')
});

// Utilisation dans un formulaire
const form = useForm<ProductFormData>({
  resolver: zodResolver(ProductSchema),
  mode: 'onChange' // Validation en temps r√©el
});
```

**Protection XSS :**
```typescript
// Sanitisation des entr√©es utilisateur
import DOMPurify from 'dompurify';

const sanitizeHtml = (html: string): string => {
  return DOMPurify.sanitize(html, {
    ALLOWED_TAGS: ['b', 'i', 'u', 'strong', 'em'],
    ALLOWED_ATTR: []
  });
};

// Composant d'affichage s√©curis√©
const SafeHTML: FC<{ content: string }> = ({ content }) => {
  const sanitized = useMemo(() => sanitizeHtml(content), [content]);
  
  return (
    <div dangerouslySetInnerHTML={{ __html: sanitized }} />
  );
};
```

#### S√©curisation Backend

**Middleware de S√©curit√© :**
```javascript
const securityMiddleware = (req, res, next) => {
  // Headers de s√©curit√©
  res.setHeader('X-Content-Type-Options', 'nosniff');
  res.setHeader('X-Frame-Options', 'DENY');
  res.setHeader('X-XSS-Protection', '1; mode=block');
  res.setHeader('Referrer-Policy', 'strict-origin-when-cross-origin');
  
  // Validation de l'origine
  const allowedOrigins = process.env.CORS_ORIGIN?.split(',') || [];
  const origin = req.headers.origin;
  
  if (origin && !allowedOrigins.includes(origin)) {
    return res.status(403).json({ error: 'Origine non autoris√©e' });
  }
  
  next();
};
```

**Validation et Sanitisation :**
```javascript
const { body, validationResult } = require('express-validator');
const xss = require('xss');

const productValidationRules = [
  body('nom')
    .trim()
    .isLength({ min: 3, max: 100 })
    .escape()
    .customSanitizer(value => xss(value)),
    
  body('prix')
    .isFloat({ min: 0.01, max: 99999 })
    .toFloat(),
    
  body('description')
    .optional()
    .isLength({ max: 1000 })
    .customSanitizer(value => xss(value)),
    
  body('stock')
    .isInt({ min: 0 })
    .toInt()
];

const validateRequest = (req, res, next) => {
  const errors = validationResult(req);
  
  if (!errors.isEmpty()) {
    return res.status(400).json({
      success: false,
      error: 'Donn√©es invalides',
      details: errors.array()
    });
  }
  
  next();
};
```

### üß™ Tests et Quality Assurance

#### Tests Frontend

**Tests de Composants :**
```typescript
// Test unitaire avec React Testing Library
import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import userEvent from '@testing-library/user-event';
import { ProductCard } from '../ProductCard';

const mockProduct = {
  id: '1',
  nom: 'Produit Test',
  prix: 29.99,
  stock: 10,
  images: ['/test-image.jpg']
};

const mockAddToCart = jest.fn();
jest.mock('../hooks/useCart', () => ({
  useCart: () => ({
    addToCart: mockAddToCart,
    isLoading: false
  })
}));

describe('ProductCard', () => {
  beforeEach(() => {
    mockAddToCart.mockClear();
  });
  
  it('affiche les informations du produit', () => {
    render(<ProductCard product={mockProduct} />);
    
    expect(screen.getByText('Produit Test')).toBeInTheDocument();
    expect(screen.getByText('29,99‚Ç¨')).toBeInTheDocument();
    expect(screen.getByRole('img', { name: 'Produit Test' })).toBeInTheDocument();
  });
  
  it('ajoute le produit au panier au clic', async () => {
    const user = userEvent.setup();
    render(<ProductCard product={mockProduct} />);
    
    const addButton = screen.getByRole('button', { name: /ajouter au panier/i });
    await user.click(addButton);
    
    await waitFor(() => {
      expect(mockAddToCart).toHaveBeenCalledWith('1', 1);
    });
  });
  
  it('d√©sactive le bouton si produit en rupture', () => {
    const outOfStock = { ...mockProduct, stock: 0 };
    render(<ProductCard product={outOfStock} />);
    
    const addButton = screen.getByRole('button', { name: /indisponible/i });
    expect(addButton).toBeDisabled();
  });
});
```

**Tests d'Int√©gration :**
```typescript
// Test d'int√©gration avec API mock
import { rest } from 'msw';
import { setupServer } from 'msw/node';
import { render, screen, waitFor } from '@testing-library/react';
import { ProductList } from '../ProductList';

const server = setupServer(
  rest.get('/api/products', (req, res, ctx) => {
    return res(ctx.json({
      products: [mockProduct],
      pagination: { total: 1, page: 1 }
    }));
  })
);

beforeAll(() => server.listen());
afterEach(() => server.resetHandlers());
afterAll(() => server.close());

describe('ProductList Integration', () => {
  it('charge et affiche les produits depuis l\'API', async () => {
    render(<ProductList />);
    
    expect(screen.getByText(/chargement/i)).toBeInTheDocument();
    
    await waitFor(() => {
      expect(screen.getByText('Produit Test')).toBeInTheDocument();
    });
    
    expect(screen.queryByText(/chargement/i)).not.toBeInTheDocument();
  });
});
```

#### Tests Backend

**Tests d'API :**
```javascript
// Test des endpoints avec Supertest
const request = require('supertest');
const app = require('../app');

describe('Products API', () => {
  describe('GET /api/products', () => {
    it('retourne la liste des produits', async () => {
      const response = await request(app)
        .get('/api/products')
        .expect(200);
        
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
      expect(response.body.pagination).toBeDefined();
    });
    
    it('filtre les produits par cat√©gorie', async () => {
      const response = await request(app)
        .get('/api/products?category=vetements')
        .expect(200);
        
      response.body.data.forEach(product => {
        expect(product.category).toBe('vetements');
      });
    });
  });
  
  describe('POST /api/products', () => {
    it('cr√©e un nouveau produit avec auth admin', async () => {
      const productData = {
        nom: 'Nouveau Produit',
        prix: 49.99,
        stock: 100,
        category: 'test'
      };
      
      const response = await request(app)
        .post('/api/products')
        .set('Authorization', `Bearer ${adminToken}`)
        .send(productData)
        .expect(201);
        
      expect(response.body.success).toBe(true);
      expect(response.body.data.nom).toBe(productData.nom);
    });
    
    it('rejette la cr√©ation sans authentification', async () => {
      const productData = { nom: 'Test' };
      
      await request(app)
        .post('/api/products')
        .send(productData)
        .expect(401);
    });
  });
});
```

### üìä Performance et Optimisation

#### Optimisations Frontend

**Code Splitting et Lazy Loading :**
```typescript
// Lazy loading des pages
const LazyAdminDashboard = lazy(() => import('../pages/admin/AdminDashboard'));
const LazyProductDetail = lazy(() => import('../pages/ProductDetail'));

// Route avec Suspense
<Route 
  path="/admin" 
  element={
    <Suspense fallback={<LoadingSpinner />}>
      <LazyAdminDashboard />
    </Suspense>
  } 
/>

// Lazy loading conditionnel
const LazyChartComponent = lazy(() => 
  import('../components/charts/AdvancedChart').then(module => ({
    default: module.AdvancedChart
  }))
);

const Dashboard = () => {
  const [showAdvancedCharts, setShowAdvancedCharts] = useState(false);
  
  return (
    <div>
      <Button onClick={() => setShowAdvancedCharts(true)}>
        Afficher graphiques avanc√©s
      </Button>
      
      {showAdvancedCharts && (
        <Suspense fallback={<ChartSkeleton />}>
          <LazyChartComponent />
        </Suspense>
      )}
    </div>
  );
};
```

**Optimisation des Images :**
```typescript
// Composant Image optimis√©
interface OptimizedImageProps {
  src: string;
  alt: string;
  width?: number;
  height?: number;
  quality?: number;
  loading?: 'lazy' | 'eager';
}

const OptimizedImage: FC<OptimizedImageProps> = ({
  src,
  alt,
  width,
  height,
  quality = 80,
  loading = 'lazy'
}) => {
  const [isLoaded, setIsLoaded] = useState(false);
  const [hasError, setHasError] = useState(false);
  
  // G√©n√©ration des sources responsive
  const srcSet = useMemo(() => {
    if (!width) return undefined;
    
    return [
      `${src}?w=${width}&q=${quality} ${width}w`,
      `${src}?w=${width * 2}&q=${quality} ${width * 2}w`
    ].join(', ');
  }, [src, width, quality]);
  
  return (
    <div className="relative overflow-hidden bg-gray-100">
      {!isLoaded && !hasError && (
        <div className="absolute inset-0 animate-pulse bg-gray-200" />
      )}
      
      <img
        src={`${src}?w=${width}&h=${height}&q=${quality}`}
        srcSet={srcSet}
        sizes={`(max-width: ${width}px) 100vw, ${width}px`}
        alt={alt}
        loading={loading}
        className={cn(
          "transition-opacity duration-300",
          isLoaded ? "opacity-100" : "opacity-0"
        )}
        onLoad={() => setIsLoaded(true)}
        onError={() => setHasError(true)}
      />
      
      {hasError && (
        <div className="absolute inset-0 flex items-center justify-center bg-gray-100">
          <ImageIcon className="h-8 w-8 text-gray-400" />
        </div>
      )}
    </div>
  );
};
```

#### Optimisations Backend

**Cache Multi-niveaux :**
```javascript
const NodeCache = require('node-cache');

class CacheManager {
  constructor() {
    // Cache en m√©moire (TTL par d√©faut: 5 minutes)
    this.memoryCache = new NodeCache({ 
      stdTTL: 300, 
      checkperiod: 60,
      useClones: false 
    });
  }
  
  async get(key, fetcher, ttl = 300) {
    // 1. V√©rifier le cache m√©moire
    const cached = this.memoryCache.get(key);
    if (cached !== undefined) {
      return cached;
    }
    
    // 2. Ex√©cuter le fetcher
    const data = await fetcher();
    
    // 3. Stocker en cache
    this.memoryCache.set(key, data, ttl);
    
    return data;
  }
  
  invalidate(pattern) {
    const keys = this.memoryCache.keys();
    const toDelete = keys.filter(key => key.includes(pattern));
    this.memoryCache.del(toDelete);
  }
}

// Utilisation dans un service
class ProductService {
  constructor() {
    this.cache = new CacheManager();
  }
  
  async getProducts(filters) {
    const cacheKey = `products:${JSON.stringify(filters)}`;
    
    return this.cache.get(cacheKey, async () => {
      return this.fetchProductsFromDB(filters);
    }, 600); // Cache 10 minutes
  }
  
  async updateProduct(id, data) {
    const product = await this.updateProductInDB(id, data);
    
    // Invalider les caches li√©s
    this.cache.invalidate(`products:`);
    this.cache.invalidate(`product:${id}`);
    
    return product;
  }
}
```

### üìà Monitoring et Observabilit√©

#### Logging Structur√©

**Logger Frontend :**
```typescript
interface LogEntry {
  level: 'debug' | 'info' | 'warn' | 'error';
  message: string;
  timestamp: string;
  userId?: string;
  sessionId?: string;
  metadata?: Record<string, any>;
}

class Logger {
  private sessionId = crypto.randomUUID();
  
  private createEntry(
    level: LogEntry['level'], 
    message: string, 
    metadata?: Record<string, any>
  ): LogEntry {
    return {
      level,
      message,
      timestamp: new Date().toISOString(),
      sessionId: this.sessionId,
      userId: this.getCurrentUserId(),
      metadata
    };
  }
  
  info(message: string, metadata?: Record<string, any>) {
    const entry = this.createEntry('info', message, metadata);
    console.log(JSON.stringify(entry));
    
    // Envoyer au service de logging en production
    if (process.env.NODE_ENV === 'production') {
      this.sendToLogService(entry);
    }
  }
  
  error(message: string, error?: Error, metadata?: Record<string, any>) {
    const entry = this.createEntry('error', message, {
      ...metadata,
      error: error ? {
        name: error.name,
        message: error.message,
        stack: error.stack
      } : undefined
    });
    
    console.error(JSON.stringify(entry));
    this.sendToLogService(entry);
  }
  
  private async sendToLogService(entry: LogEntry) {
    try {
      await fetch('/api/logs', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(entry)
      });
    } catch (error) {
      // Fallback : stocker en localStorage pour retry
      this.storeForRetry(entry);
    }
  }
}

export const logger = new Logger();
```

**M√©triques Business :**
```typescript
// Tracking des √©v√©nements business
class Analytics {
  track(event: string, properties?: Record<string, any>) {
    const payload = {
      event,
      properties,
      timestamp: new Date().toISOString(),
      userId: this.getCurrentUserId(),
      sessionId: this.getSessionId(),
      page: window.location.pathname
    };
    
    // Envoyer imm√©diatement les √©v√©nements critiques
    if (this.isCriticalEvent(event)) {
      this.sendImmediately(payload);
    } else {
      // Batch les autres √©v√©nements
      this.addToBatch(payload);
    }
  }
  
  // √âv√©nements business typiques
  productViewed(productId: string, productName: string) {
    this.track('Product Viewed', { productId, productName });
  }
  
  addedToCart(productId: string, quantity: number, price: number) {
    this.track('Added to Cart', { productId, quantity, price, revenue: quantity * price });
  }
  
  purchaseCompleted(orderId: string, total: number, items: any[]) {
    this.track('Purchase Completed', { 
      orderId, 
      total, 
      itemCount: items.length,
      revenue: total 
    });
  }
}

export const analytics = new Analytics();
```

---

Cette documentation compl√®te couvre tous les aspects d'utilisation de Riziky-Boutic pour chaque type d'utilisateur. Elle fournit les informations n√©cessaires pour comprendre, utiliser, et maintenir efficacement la plateforme.
